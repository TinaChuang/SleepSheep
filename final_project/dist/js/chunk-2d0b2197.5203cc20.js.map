{"version":3,"sources":["webpack:///./src/views/frontend/Cart.vue?11f2","webpack:///src/views/frontend/Cart.vue","webpack:///./src/views/frontend/Cart.vue?b128","webpack:///./src/views/frontend/Cart.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","isLoading","on","$event","carts","staticClass","staticStyle","_m","_l","item","key","product","id","imageUrl","_v","_s","title","quantity","updateQuantity","status","loadingUpdateCart","directives","name","rawName","value","expression","domProps","target","composing","$set","_f","price","preventDefault","deleteCartItem","cartTotal","_e","staticRenderFns","data","created","getCart","methods","$http","totalPriceHandler","forEach","total","quantityHandler","deleteProdsHandler","component"],"mappings":"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","file":"js/chunk-2d0b2197.5203cc20.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('loading',{attrs:{\"active\":_vm.isLoading},on:{\"update:active\":function($event){_vm.isLoading=$event}}}),(_vm.carts.length)?_c('div',{staticClass:\"container\"},[_c('div',{staticClass:\"row justify-content-center\"},[_c('div',{staticClass:\"col bg-white py-5\",staticStyle:{\"min-height\":\"calc(100vh - 81px - 81px)\"}},[_vm._m(0),_c('hr',{staticClass:\"border-dark mb-0\",staticStyle:{\"border-width\":\"1.5px\"}}),_c('div',{staticClass:\"table-responsive\"},[_c('table',{staticClass:\"table table-striped mb-0\"},[_vm._m(1),_c('tbody',_vm._l((_vm.carts),function(item){return _c('tr',{key:item.product.id + 1},[_c('td',{staticClass:\"text-center px-0\",staticStyle:{\"width\":\"100px\"}},[_c('img',{staticStyle:{\"height\":\"100px\",\"object-fit\":\"cover\"},attrs:{\"src\":item.product.imageUrl[0],\"alt\":\"\"}})]),_c('td',{staticClass:\"align-middle text-center\",staticStyle:{\"min-width\":\"100px\"}},[_vm._v(\" \"+_vm._s(item.product.title)+\" \")]),_c('td',{staticClass:\"align-middle text-center\",staticStyle:{\"min-width\":\"125px\"}},[_c('div',{staticClass:\"input-group\"},[_c('div',{staticClass:\"input-group-prepend\"},[_c('button',{staticClass:\"btn btn-primary btn-sm  d-flex align-items-center\",attrs:{\"type\":\"button\",\"disabled\":item.quantity === 1},on:{\"click\":function($event){item.quantity --;\n                      _vm.updateQuantity( item.product.id, item.quantity)}}},[(_vm.status.loadingUpdateCart === item.product.id)?_c('span',{staticClass:\"spinner-border spinner-border-sm\",staticStyle:{\"width\":\"12px\",\"height\":\"12px\"}}):_c('span',[_vm._v(\"-\")])])]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(item.quantity),expression:\"item.quantity\"}],staticClass:\"form-control text-center\",attrs:{\"min\":\"1\",\"type\":\"number\",\"disabled\":item.quantity === 1},domProps:{\"value\":(item.quantity)},on:{\"keyup\":function($event){return _vm.updateQuantity(item.product.id, item.quantity)},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(item, \"quantity\", $event.target.value)}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-primary btn-sm d-flex align-items-center\",attrs:{\"type\":\"button\",\"disabled\":_vm.status.loadingUpdateCart === item.product.id},on:{\"click\":function($event){item.quantity ++;\n                      _vm.updateQuantity( item.product.id, item.quantity)}}},[(_vm.status.loadingUpdateCart === item.product.id)?_c('span',{staticClass:\"spinner-border spinner-border-sm\",staticStyle:{\"width\":\"12px\",\"height\":\"12px\"}}):_c('span',[_vm._v(\"+\")])])])])]),_c('td',{staticClass:\"align-middle text-center\"},[_vm._v(\" \"+_vm._s(_vm._f(\"money\")(item.product.price * item.quantity))+\" \")]),_c('td',{staticClass:\"align-middle text-center\"},[_c('a',{staticClass:\"text-danger\",attrs:{\"href\":\"#\"},on:{\"click\":function($event){$event.preventDefault();return _vm.deleteCartItem(item.product.id)}}},[_c('i',{staticClass:\"fas fa-trash-alt\"}),_vm._v(\" 移除 \")])])])}),0)])]),_c('div',{staticClass:\"container\"},[(_vm.cartTotal > 0)?_c('div',{staticClass:\"d-flex justify-content-end mt-4\"},[_c('p',{staticClass:\"mb-0 h4 font-weight-bold\",staticStyle:{\"min-width\":\"80px\"}},[_vm._v(\"總金額\")]),_c('p',{staticClass:\"mb-0 h4 font-weight-bold\"},[_vm._v(_vm._s(_vm._f(\"money\")(_vm.cartTotal)))])]):_vm._e()]),_c('div',{staticClass:\"row d-flex justify-content-between mt-4\"},[_c('div',{staticClass:\"col-md-2\"},[_c('router-link',{staticClass:\"btn btn-outline-dark btn-block\",attrs:{\"to\":\"/products\"}},[_vm._v(\" 繼續選購 \")])],1),_c('div',{staticClass:\"col-md-2 mt-3 mt-md-0\"},[_c('router-link',{staticClass:\"btn btn-outline-primary btn-block\",attrs:{\"to\":\"/cart-message\"}},[_vm._v(\" 下一步 \")])],1)])])])]):_c('div',{staticClass:\"container\"},[_vm._m(2),_c('div',{staticClass:\"row d-flex justify-content-center mt-3 mb-5\"},[_c('div',{staticClass:\"col-md-2\"},[_c('router-link',{staticClass:\"btn btn-outline-dark btn-block\",attrs:{\"to\":\"/products\"}},[_vm._v(\" 繼續選購 \")])],1)])])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex justify-content-center\"},[_c('h2',{staticClass:\"text-dark mb-0 font-weight-bold\"},[_vm._v(\"購物車\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('thead',{staticClass:\"text-center\"},[_c('td',[_vm._v(\"產品圖片\")]),_c('td',[_vm._v(\"產品名稱\")]),_c('td',[_vm._v(\"數量\")]),_c('td',[_vm._v(\"價格\")]),_c('td',[_vm._v(\"刪除\")])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"row flex-column justify-content-center align-items-center\"},[_c('div',{staticClass:\"col bg-white pt-5\"},[_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('h2',{staticClass:\"text-dark mb-0 font-weight-bold\"},[_vm._v(\"購物車\")])]),_c('hr',{staticClass:\"border-dark mb-0\",staticStyle:{\"border-width\":\"1.5px\"}}),_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('p',{staticClass:\"h3 text-dark mt-3\"},[_vm._v(\"購物車無商品，快去逛逛！\")])])]),_c('div',{staticClass:\"col-md-5\"},[_c('img',{staticClass:\"img-fluid mt-3\",attrs:{\"src\":\"https://hexschool-api.s3.us-west-2.amazonaws.com/custom/nOoInzZIltvbLPKRcHKMFc3zyqrQyBWAGRaN9ke6zVSP9LaMndr8ta41GVAAZhKyOJ4apHZjHwuPv7sgyA96GoF4cXLSSXip7puDq1JRXK7Z7wdr8kIdnwMKU7XvB2tc.jpg\",\"alt\":\"\"}})])])}]\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <loading :active.sync=\"isLoading\"/>\r\n    <div class=\"container\" v-if=\"carts.length\">\r\n      <div class=\"row justify-content-center\">\r\n        <div class=\"col bg-white py-5\" style=\"min-height: calc(100vh - 81px - 81px);\">\r\n          <div class=\"d-flex justify-content-center\">\r\n            <h2 class=\"text-dark mb-0 font-weight-bold\">購物車</h2>\r\n          </div>\r\n          <hr class=\"border-dark mb-0\" style=\"border-width:1.5px\">\r\n          <div class=\"table-responsive\">\r\n            <table class=\"table table-striped mb-0\">\r\n              <thead class=\"text-center\">\r\n                <td>產品圖片</td>\r\n                <td>產品名稱</td>\r\n                <td>數量</td>\r\n                <td>價格</td>\r\n                <td>刪除</td>\r\n              </thead>\r\n              <tbody>\r\n                <tr v-for=\"item in carts\" :key=\"item.product.id + 1\">\r\n                  <td class=\"text-center px-0\" style=\"width:100px\">\r\n                    <img :src=\"item.product.imageUrl[0]\"\r\n                  alt=\"\" style=\"height: 100px; object-fit: cover;\"></td>\r\n                  <td class=\"align-middle text-center\" style=\"min-width:100px\">\r\n                    {{ item.product.title }}\r\n                  </td>\r\n                  <td class=\"align-middle text-center\" style=\"min-width:125px\">\r\n                    <div class=\"input-group\">\r\n                      <div class=\"input-group-prepend\">\r\n                        <button class=\"btn btn-primary btn-sm  d-flex align-items-center\"\r\n                        type=\"button\" :disabled=\"item.quantity === 1\"\r\n                        @click=\"item.quantity --;\r\n                        updateQuantity( item.product.id, item.quantity)\">\r\n                        <span v-if=\"status.loadingUpdateCart === item.product.id\"\r\n                        class=\"spinner-border spinner-border-sm\" style=\"width:12px;height:12px\">\r\n                        </span>\r\n                        <span v-else>-</span>\r\n                        </button>\r\n                      </div>\r\n                      <input min=\"1\" type=\"number\" class=\"form-control text-center\"\r\n                      v-model=\"item.quantity\"\r\n                      @keyup=\"updateQuantity(item.product.id, item.quantity)\"\r\n                      :disabled=\"item.quantity === 1\">\r\n                      <div class=\"input-group-append\">\r\n                        <button class=\"btn btn-primary btn-sm d-flex align-items-center\"\r\n                        type=\"button\"\r\n                        @click=\"item.quantity ++;\r\n                        updateQuantity( item.product.id, item.quantity)\"\r\n                        :disabled=\"status.loadingUpdateCart === item.product.id\">\r\n                        <span v-if=\"status.loadingUpdateCart === item.product.id\"\r\n                        class=\"spinner-border spinner-border-sm\" style=\"width:12px;height:12px\">\r\n                        </span>\r\n                        <span v-else>+</span>\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td class=\"align-middle text-center\">\r\n                    {{ item.product.price * item.quantity | money}}\r\n                  </td>\r\n                  <td class=\"align-middle text-center\" >\r\n                    <a\r\n                      class=\"text-danger\"\r\n                      href=\"#\"\r\n                      @click.prevent=\"deleteCartItem(item.product.id)\"\r\n                    >\r\n                      <i class=\"fas fa-trash-alt\"></i>\r\n                      移除\r\n                    </a>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          <div class=\"container\">\r\n            <div class=\"d-flex justify-content-end mt-4\"  v-if=\"cartTotal > 0\">\r\n              <p class=\"mb-0 h4 font-weight-bold\" style=\"min-width:80px\">總金額</p>\r\n              <p class=\"mb-0 h4 font-weight-bold\">{{cartTotal | money}}</p>\r\n            </div>\r\n          </div>\r\n          <div class=\"row d-flex justify-content-between mt-4\">\r\n            <div class=\"col-md-2\">\r\n              <router-link class=\"btn btn-outline-dark btn-block\"\r\n              to=\"/products\">\r\n              繼續選購\r\n              </router-link>\r\n            </div>\r\n            <div class=\"col-md-2 mt-3 mt-md-0\">\r\n              <router-link class=\"btn btn-outline-primary btn-block\"\r\n              to=\"/cart-message\">\r\n              下一步\r\n              </router-link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"container\" v-else>\r\n      <div class=\"row flex-column justify-content-center align-items-center\">\r\n        <div class=\"col bg-white pt-5\">\r\n          <div class=\"d-flex justify-content-center\">\r\n            <h2 class=\"text-dark mb-0 font-weight-bold\">購物車</h2>\r\n          </div>\r\n          <hr class=\"border-dark mb-0\" style=\"border-width:1.5px\">\r\n          <div class=\"d-flex justify-content-center\">\r\n            <p class=\"h3 text-dark mt-3\">購物車無商品，快去逛逛！</p>\r\n          </div>\r\n        </div>\r\n        <div class=\"col-md-5\">\r\n          <img class=\"img-fluid mt-3\"\r\n        src=\"https://hexschool-api.s3.us-west-2.amazonaws.com/custom/nOoInzZIltvbLPKRcHKMFc3zyqrQyBWAGRaN9ke6zVSP9LaMndr8ta41GVAAZhKyOJ4apHZjHwuPv7sgyA96GoF4cXLSSXip7puDq1JRXK7Z7wdr8kIdnwMKU7XvB2tc.jpg\" alt=\"\">\r\n        </div>\r\n      </div>\r\n      <div class=\"row d-flex justify-content-center mt-3 mb-5\">\r\n        <div class=\"col-md-2\">\r\n          <router-link class=\"btn btn-outline-dark btn-block\"\r\n          to=\"/products\">\r\n          繼續選購\r\n          </router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  data () {\r\n    return {\r\n      carts: [],\r\n      cartTotal: 0,\r\n      isLoading: false,\r\n      status: {\r\n        loadingUpdateCart: ''\r\n      }\r\n    }\r\n  },\r\n  created () {\r\n    this.getCart()\r\n  },\r\n  methods: {\r\n    getCart () {\r\n      this.isLoading = true\r\n      const getCartListApi = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`\r\n      this.$http\r\n        .get(getCartListApi)\r\n        .then(res => {\r\n          this.isLoading = false\r\n          this.status.loadingUpdateCart = ''\r\n          this.carts = res.data.data\r\n          this.totalPriceHandler()\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          this.isLoading = false\r\n          this.status.loadingItem = ''\r\n        })\r\n    },\r\n    totalPriceHandler () {\r\n      let total = 0\r\n      this.carts.forEach(item => {\r\n        total += item.product.price * item.product.quantity\r\n      })\r\n      this.cartTotal = total\r\n    },\r\n    quantityHandler (id, quantity = 1) {\r\n      this.status.loadingUpdateCart = id\r\n      const getCartListApi = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping`\r\n      const cart = {\r\n        product: id,\r\n        quantity\r\n      }\r\n      this.$http\r\n        .get(getCartListApi, cart)\r\n        .than(res => {\r\n          this.status.loadingUpdateCart = ''\r\n          this.getCart()\r\n          this.$bus\r\n            .$emit(\r\n              'message:push',\r\n              '商品數量更新成功!',\r\n              'success'\r\n            )\r\n        })\r\n        .catch(err => {\r\n          console.log(err)\r\n          this.status.loadingUpdateCart = ''\r\n          this.$bus\r\n            .$emit(\r\n              'message:push',\r\n              '商品數量更新失敗!',\r\n              'danger'\r\n            )\r\n        })\r\n    },\r\n    deleteProdsHandler (id) {\r\n      this.isLoading = true\r\n      const deleteProdsApi = `${process.env.VUE_APP_APIPATH}/${process.env.VUE_APP_UUID}/ec/shopping/${id}`\r\n      this.$http\r\n        .delete(deleteProdsApi)\r\n        .then(res => {\r\n          this.isLoading = false\r\n          this.getCart()\r\n          this.$bus\r\n            .$emit('get-cart')\r\n          this.$bus\r\n            .$emit(\r\n              'message:push',\r\n              '商品已刪除!',\r\n              'success'\r\n            )\r\n        })\r\n        .catch(() => {\r\n          this.isLoading = false\r\n          this.$bus\r\n            .$emit(\r\n              'message:push',\r\n              '商品刪除失敗!',\r\n              'danger')\r\n        })\r\n    }\r\n  }\r\n}\r\n</script>\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Cart.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Cart.vue?vue&type=template&id=ffc6a5f8&\"\nimport script from \"./Cart.vue?vue&type=script&lang=js&\"\nexport * from \"./Cart.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}