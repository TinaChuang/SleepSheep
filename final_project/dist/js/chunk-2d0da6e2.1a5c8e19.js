(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0da6e2"],{"6c21":function(t,s,e){"use strict";e.r(s);var a=function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",[e("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),e("div",{staticClass:"my-3"},[e("div",{staticClass:"container"},[e("div",{staticClass:"row justify-content-center flex-md-row"},[e("div",{staticClass:"col-md-7"},[!1===t.order.paid?e("div",[t._m(0),e("hr",{staticClass:"border-dark",staticStyle:{"border-width":"1.5px"}}),t._m(1),e("img",{staticClass:"img-fluid w-100",attrs:{src:"https://hexschool-api.s3.us-west-2.amazonaws.com/custom/Dry9BIAASb4giKnaoSNHtSk3l5GPx4a6lcxAxtoWM9GekuI7w9wUWmb53XFkhg1WWY9rBIPobkNvyGtttxQzHfU1zKpAyZvzJLo4g4XfFQODfneK8E2tGIquXnH9rAcK.jpg",alt:""}})]):e("div",[t._m(2),e("hr",{staticClass:"border-dark",staticStyle:{"border-width":"1.5px"}}),t._m(3),e("img",{staticClass:"img-fluid w-100",attrs:{src:"https://hexschool-api.s3.us-west-2.amazonaws.com/custom/XFsNBRYyHjMUY5h4K5HRSIVfW93b3jhcmYFm8SLrgOvf9FA4dphwFwYTb4e7hN9hUdD3M0CJvwoROmbZqwbc8y6H1epIqNe9uzMOUp0aLgst9h4ijvb1HT2QppKrNUNY.jpg",alt:""}})])]),e("div",{staticClass:"col-md-5 mt-3"},[e("div",{staticClass:"border p-4"},[e("h4",{staticClass:"font-weight-bold mb-3"},[t._v("訂單明細")]),t._l(t.order.products,(function(s,a){return e("div",{key:a},[e("div",{staticClass:"d-flex mb-3"},[e("img",{staticClass:"mr-2",staticStyle:{width:"60px","object-fit":"cover"},attrs:{src:s.product.imageUrl[0],alt:""}}),e("div",{staticClass:"w-100"},[e("div",{staticClass:"d-flex justify-content-between font-weight-bold"},[e("p",{staticClass:"mb-0"},[t._v(t._s(s.product.title))]),e("p",{staticClass:"mb-0"},[t._v("X "+t._s(s.quantity))])]),e("div",{staticClass:"d-flex justify-content-between"},[e("small",{staticClass:"mb-0 text-muted"},[t._v(" "+t._s(t._f("money")(s.product.price))+" / "+t._s(s.product.unit)+" ")])])])])])})),e("table",{staticClass:"table mt-4 border-top border-bottom text-muted"},[e("tbody",[e("tr",[e("th",{staticClass:"border-0 px-0 pt-4 pb-0 font-weight-normal",attrs:{scope:"row"}},[t._v("電子郵件")]),e("td",{staticClass:"text-right border-0 px-0 pt-4 pb-0"},[t._v(t._s(t.order.user.email))])]),e("tr",[e("th",{staticClass:"border-0 px-0 font-weight-normal",attrs:{scope:"row"}},[t._v("收件人姓名")]),e("td",{staticClass:"text-right border-0 px-0"},[t._v(t._s(t.order.user.name))])]),e("tr",[e("th",{staticClass:"border-0 px-0 pt-0 font-weight-normal",attrs:{scope:"row"}},[t._v("收件人電話")]),e("td",{staticClass:"text-right border-0 px-0 pt-0"},[t._v(t._s(t.order.user.tel))])]),e("tr",[e("th",{staticClass:"border-0 px-0 pt-0 font-weight-normal",attrs:{scope:"row"}},[t._v("收件人地址")]),e("td",{staticClass:"text-right border-0 px-0 pt-0"},[t._v(t._s(t.order.user.address))])])])]),e("table",{staticClass:"table mt-4 text-muted"},[e("tbody",[e("tr",[e("th",{staticClass:"border-0 px-0 pt-4 pb-0 font-weight-normal",attrs:{scope:"row"}},[t._v("付款金額")]),e("td",{staticClass:"text-right border-0 px-0 pt-4 pb-0"},[t._v(t._s(t._f("money")(t.order.amount)))])]),e("tr",[e("th",{staticClass:"border-0 px-0 font-weight-normal",attrs:{scope:"row"}},[t._v("付款方式")]),e("td",{staticClass:"text-right border-0 px-0"},[t._v(t._s(t.order.payment))])]),e("tr",[e("th",{staticClass:"border-0 px-0 pt-0 font-weight-normal",attrs:{scope:"row"}},[t._v("付款狀態")]),t.order.paid?e("td",{staticClass:"text-right border-0 px-0 pt-0 text-success font-weight-bold"},[t._v(" 付款完成 ")]):e("td",{staticClass:"text-right border-0 px-0 pt-0 text-danger"},[t._v(" 尚未付款 ")])])])]),!1===t.order.paid?e("hr"):t._e(),e("div",{staticClass:"row justify-content-end"},[e("div",{staticClass:"col-md-6"},[!1===t.order.paid?e("div",[e("a",{staticClass:"btn btn-primary d-flex align-items-center justify-content-center",attrs:{disabled:t.loadingItem},on:{click:function(s){return s.preventDefault(),t.payOrder(s)}}},[t._v(" 確認付款 "),t.loadingItem?e("span",{staticClass:"spinner-grow spinner-grow-sm ml-2"}):t._e()])]):t._e()])])],2),e("div",{staticClass:"d-flex my-3"},[e("router-link",{staticClass:"flex-fill btn btn-outline-secondary mx-1",attrs:{to:"/products"}},[t._v(" 繼續選購 ")]),e("a",{staticClass:"flex-fill btn btn-outline-secondary mx-1",on:{click:function(s){return s.preventDefault(),t.backHome(s)}}},[t._v(" 回到首頁 ")])],1)])])])])],1)},r=[function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"d-flex"},[e("h4",{staticClass:"text-dark mb-0 font-weight-bold"},[t._v("結帳")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v(" 只差一步了！點選確認付款以完成訂單。"),e("br"),t._v("我們將在收到您的訂單後，約 1 ~ 3 個工作天會有專人聯絡您協助預備眠綿羊的生活環境與送達時間！ ")])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"d-flex"},[e("h4",{staticClass:"text-dark mb-0 font-weight-bold"},[t._v("訂單完成")])])},function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("p",[t._v(" 感謝您的購買！"),e("br"),t._v("您的訂單， 將在 1 ~ 3 個工作天會有專人聯絡您協助預備眠綿羊的生活環境與送達時間！ ")])}],i=(e("99af"),{data:function(){return{order:{user:{}},orderId:"",isLoading:!1,loadingItem:!1}},created:function(){this.orderId=this.$route.params.orderId,this.getOrder()},methods:{getOrder:function(){var t=this,s="".concat("https://course-ec-api.hexschool.io/api","/").concat("e3cf317a-b68f-4629-9716-f0f4ec843e36","/ec/orders/").concat(this.orderId);this.isLoading=!0,this.$http.get(s).then((function(s){t.order=s.data.data,t.isLoading=!1})).catch((function(){t.$bus.$emit("message:push","無法取得資料！請稍後再試！","danger"),t.isLoading=!1}))},payOrder:function(){var t=this,s="".concat("https://course-ec-api.hexschool.io/api","/").concat("e3cf317a-b68f-4629-9716-f0f4ec843e36","/ec/orders/").concat(this.orderId,"/paying");this.loadingItem=!0,this.$http.post(s).then((function(s){s.data.data.paid&&t.getOrder(),t.$bus.$emit("message:push","已完成付款！","success"),t.loadingItem=!1})).catch((function(){t.$bus.$emit("message:push","付款失敗！請再試一次！","danger"),t.loadingItem=!1}))},backHome:function(){this.$router.push("/"),this.$bus.$emit("message:push","尚未付款！訂單已放棄，請重新下單。","danger")}}}),o=i,c=e("2877"),d=Object(c["a"])(o,a,r,!1,null,null,null);s["default"]=d.exports}}]);
//# sourceMappingURL=chunk-2d0da6e2.1a5c8e19.js.map