(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0afdf8"],{"0fd0":function(t,s,a){"use strict";a.r(s);var e=function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"container"},[a("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),a("div",{staticClass:"row justify-content-center my-5"},[a("div",{staticClass:"col-12 col-md-7"},[a("img",{staticClass:"img-fluid",attrs:{src:t.product.imageUrl[0],alt:t.product.title}})]),a("div",{staticClass:"col-12 col-md-5 d-flex flex-column justify-content-center"},[a("p",{staticClass:"h2 mt-3 mt-md-0 text-primary"},[t._v(t._s(t.product.title))]),a("hr",{staticClass:"border-primary mt-0 w-100",staticStyle:{"border-width":"1.5px"}}),a("p",[t._v(t._s(t.product.content))]),a("div",{staticClass:"d-flex"},[a("p",{staticClass:"h4 text-primary mb-0 mr-3"},[t._v(" 售價："),a("strong",[t._v(t._s(t._f("money")(t.product.price)))])]),a("del",{staticClass:"text-muted"},[a("small",[t._v("原價："+t._s(t._f("money")(t.product.origin_price)))])])]),a("div",{staticClass:"d-flex mt-3"},[a("div",{staticClass:"w-50 mr-3"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.product.num,expression:"product.num"}],staticClass:"form-control mr-3 border border-dark",staticStyle:{"text-align":"center","text-align-last":"center"},attrs:{name:"unit"},on:{change:function(s){var a=Array.prototype.filter.call(s.target.options,(function(t){return t.selected})).map((function(t){var s="_value"in t?t._value:t.value;return s}));t.$set(t.product,"num",s.target.multiple?a:a[0])}}},t._l(8,(function(s){return a("option",{key:s,staticClass:"text-center",domProps:{value:s}},[t._v(" "+t._s(s)+" "+t._s(t.product.unit)+" ")])})),0)]),a("button",{staticClass:"btn btn-outline-primary w-50 d-flex justify-content-center align-items-center",attrs:{type:"button"},on:{click:function(s){return t.addToCart(t.product.id,t.product.num)}}},[t.status.loadingItem===t.product.id?a("i",{staticClass:"mr-2 spinner-grow spinner-grow-sm"}):t._e(),t._v(" 加到購物車 ")])])])]),a("div",{staticClass:"row my-5 border-bottom"},[t._m(0),a("div",{staticClass:"col-12 col-md-9"},[a("p",{domProps:{innerHTML:t._s(t.product.description)}})])]),t._m(1),t._m(2)],1)},i=[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"col-12 col-md-3"},[a("h4",{staticClass:"text-primary"},[t._v("眠綿羊介紹")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"row my-5 border-bottom"},[a("div",{staticClass:"col-12 col-md-3"},[a("h4",{staticClass:"text-primary"},[t._v("購買須知")])]),a("div",{staticClass:"col-12 col-md-9"},[a("p",[t._v("因眠綿羊屬於特殊生物，故下單後，會有專人聯絡您協助預備眠綿羊的生活環境與送達時間。")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"row my-5 border-bottom"},[a("div",{staticClass:"col-12 col-md-3"},[a("h4",{staticClass:"text-primary"},[t._v("退定需知")])]),a("div",{staticClass:"col-12 col-md-9"},[a("p",[t._v("因眠綿羊屬於特殊生物，故送出退訂後，會有專人聯絡您協助送回眠綿羊的時間與方式。若是您有多次退訂的紀錄，眠綿羊可是會記仇的。")])])])}],c=(a("99af"),{data:function(){return{product:{num:1,imageUrl:[],options:{}},status:{loadingItem:""},isLoading:!1}},created:function(){this.getProduct()},methods:{getProduct:function(){var t=this;this.isLoading=!0;var s=this.$route.params.id,a="".concat("https://course-ec-api.hexschool.io/api","/").concat("e3cf317a-b68f-4629-9716-f0f4ec843e36","/ec/product/").concat(s);this.$http.get(a).then((function(s){t.isLoading=!1,t.product=s.data.data,t.$set(t.product,"num",1),console.log(t.product)}))},addToCart:function(t){var s=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var e="".concat("https://course-ec-api.hexschool.io/api","/").concat("e3cf317a-b68f-4629-9716-f0f4ec843e36","/ec/shopping");this.status.loadingItem=t;var i={product:t,quantity:a};this.$http.post(e,i).then((function(t){s.isLoading=!1,s.status.loadingItem="",s.$bus.$emit("get-cart"),s.$bus.$emit("message:push","商品已成功加入購物車!","success")})).catch((function(t){s.isLoading=!1,s.status.loadingItem="",s.$bus.$emit("message:push","加入失敗!".concat(t.response.data.errors),"danger")}))}}}),o=c,r=a("2877"),n=Object(r["a"])(o,e,i,!1,null,null,null);s["default"]=n.exports}}]);
//# sourceMappingURL=chunk-2d0afdf8.8b350a41.js.map