(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0dd9be"],{"81b1":function(t,s,i){"use strict";i.r(s);var a=function(){var t=this,s=t.$createElement,i=t._self._c||s;return i("div",[i("loading",{attrs:{active:t.isLoading},on:{"update:active":function(s){t.isLoading=s}}}),i("h2",[t._v("商品列表")]),i("div",{staticClass:"container"},[i("div",{staticClass:"row my-3"},t._l(t.products,(function(s){return i("div",{key:s.id,staticClass:"col-6 col-md-4 col-xl-3"},[i("div",{staticClass:"card shadow-sm border-0 mb-4 rounded"},[i("router-link",{attrs:{to:"/product/"+s.id}},[i("img",{staticClass:"card-img-top",attrs:{src:s.imageUrl[0]},on:{alt:s.title}})]),i("div",{staticClass:"card-body d-flex flex-column align-items-center justify-content-center"},[i("h4",{staticClass:"mb-0"},[i("router-link",{attrs:{to:"/product/"+s.id}},[t._v(t._s(s.title))])],1),i("div",{staticClass:"mt-2 d-lg-flex"},[i("del",{staticClass:"text-muted mr-sm-3"},[i("small",[t._v("原價："+t._s(t._f("money")(s.origin_price)))])]),i("p",{staticClass:"text-primary mb-0"},[t._v("售價："),i("strong",[t._v(t._s(t._f("money")(s.price)))])])])]),i("div",{staticClass:"card-footer d-flex"},[i("router-link",{attrs:{to:"/product/"+s.id}},[i("button",{staticClass:"btn btn-outline-secondary btn-sm",attrs:{type:"button"}},[t._v("查看更多")])]),i("button",{staticClass:"btn btn-outline-primary btn-sm ml-auto\n            d-flex align-items-center",attrs:{type:"button",disabled:t.status.loadingItem===s.id},on:{click:function(i){return i.preventDefault(),t.addToCart(s.id)}}},[t._v("加入購物車 "),t.status.loadingItem===s.id?i("i",{staticClass:"ml-2 spinner-grow spinner-grow-sm d-md-none d-lg-block",staticStyle:{width:"12px",height:"12px"}}):t._e()])],1)],1)])})),0)])],1)},e=[],n=(i("99af"),{data:function(){return{products:[],newProducts:[],filterType:"",status:{loadingItem:""},isLoading:!1}},created:function(){this.getProducts()},methods:{getProducts:function(){var t=this;this.isLoading=!0;var s="".concat("https://course-ec-api.hexschool.io/api","/").concat("e3cf317a-b68f-4629-9716-f0f4ec843e36","/ec/products");this.$http.get(s).then((function(s){console.log(s),t.isLoading=!1,t.products=s.data.data})).catch((function(t){console.log(t)}))},addToCart:function(t){var s=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.isLoading=!0;var a="".concat("https://course-ec-api.hexschool.io/api","/").concat("e3cf317a-b68f-4629-9716-f0f4ec843e36","/ec/shopping");this.status.loadingItem=t;var e={product:t,quantity:i};this.$http.post(a,e).then((function(t){s.isLoading=!1,s.status.loadingItem="",s.$bus.$emit("get-cart"),s.$bus.$emit("message:push","商品已成功加入購物車!","success")})).catch((function(t){s.isLoading=!1,s.status.loadingItem="",s.$bus.$emit("message:push","加入失敗!".concat(t.response.data.errors),"danger")}))}}}),o=n,c=i("2877"),r=Object(c["a"])(o,a,e,!1,null,null,null);s["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d0dd9be.802388fd.js.map